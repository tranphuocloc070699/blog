<template>
  <div class="upvote-container">
    <input
      @click="handleUpVote"
      id="heart-checkbox"
      class="heart-checkbox"
      type="checkbox"
    />
    <label for="heart-checkbox">
      <svg
        class="heart-icon"
        viewBox="0 0 256 256"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="heart-outline" class="heart-icon-item">
          <mask id="heart-outline-mask" fill="white">
            <path
              d="M221.102 145.279C244.534 121.848 244.534 83.8579 221.102 60.4264C197.671 36.995 159.681 36.9949 136.25 60.4264L127.764 68.9116L119.279 60.4264C95.8477 36.995 57.8578 36.995 34.4264 60.4264C10.9949 83.8579 10.9949 121.848 34.4264 145.279L48.539 159.392C48.5488 159.402 48.5585 159.412 48.5683 159.421L122.107 232.96C122.498 233.351 122.919 233.693 123.362 233.986C126.253 235.894 130.111 235.73 132.835 233.492C133.037 233.326 133.233 233.149 133.421 232.96L206.96 159.421C206.971 159.411 206.981 159.4 206.992 159.39L221.102 145.279Z"
            />
          </mask>
          <path
            d="M221.102 145.279L232.416 156.593L232.416 156.593L221.102 145.279ZM136.25 60.4264L147.563 71.7401L147.563 71.7401L136.25 60.4264ZM127.764 68.9116L116.451 80.2253L127.764 91.539L139.078 80.2253L127.764 68.9116ZM119.279 60.4264L130.593 49.1127L119.279 60.4264ZM34.4264 60.4264L23.1127 49.1127L34.4264 60.4264ZM34.4264 145.279L45.7401 133.966L45.7401 133.966L34.4264 145.279ZM48.539 159.392L59.911 148.137L59.8819 148.107L59.8527 148.078L48.539 159.392ZM48.5683 159.421L59.8821 148.108L59.8821 148.108L48.5683 159.421ZM122.107 232.96L133.421 221.647L133.421 221.647L122.107 232.96ZM123.362 233.986L132.178 220.633L132.178 220.633L123.362 233.986ZM132.835 233.492L122.68 221.128L122.68 221.128L132.835 233.492ZM133.421 232.96L144.735 244.274L144.735 244.274L133.421 232.96ZM206.96 159.421L195.651 148.104L195.647 148.108L206.96 159.421ZM206.992 159.39L195.678 148.076L195.647 148.107L195.616 148.138L206.992 159.39ZM209.789 71.7401C226.972 88.9232 226.972 116.782 209.789 133.966L232.416 156.593C262.096 126.913 262.096 78.7925 232.416 49.1127L209.789 71.7401ZM147.563 71.7401C164.746 54.557 192.606 54.557 209.789 71.7401L232.416 49.1127C202.736 19.4329 154.616 19.4328 124.936 49.1127L147.563 71.7401ZM139.078 80.2253L147.563 71.7401L124.936 49.1127L116.451 57.5979L139.078 80.2253ZM107.965 71.7401L116.451 80.2253L139.078 57.5979L130.593 49.1127L107.965 71.7401ZM45.7401 71.7401C62.9232 54.5571 90.7824 54.5571 107.965 71.7401L130.593 49.1127C100.913 19.4329 52.7925 19.4329 23.1127 49.1127L45.7401 71.7401ZM45.7401 133.966C28.557 116.782 28.557 88.9232 45.7401 71.7401L23.1127 49.1127C-6.56718 78.7925 -6.56718 126.913 23.1127 156.593L45.7401 133.966ZM59.8527 148.078L45.7401 133.966L23.1127 156.593L37.2253 170.706L59.8527 148.078ZM59.8821 148.108C59.8906 148.116 59.9003 148.126 59.911 148.137L37.1671 170.647C37.1973 170.678 37.2265 170.707 37.2546 170.735L59.8821 148.108ZM133.421 221.647L59.8821 148.108L37.2546 170.735L110.794 244.274L133.421 221.647ZM132.178 220.633C132.629 220.931 133.046 221.271 133.421 221.647L110.794 244.274C111.95 245.431 113.209 246.455 114.547 247.338L132.178 220.633ZM122.68 221.128C125.433 218.866 129.273 218.715 132.178 220.633L114.547 247.338C123.233 253.073 134.788 252.594 142.99 245.856L122.68 221.128ZM122.108 221.647C122.288 221.466 122.479 221.293 122.68 221.128L142.99 245.856C143.595 245.359 144.177 244.832 144.735 244.274L122.108 221.647ZM195.647 148.108L122.107 221.647L144.735 244.274L218.274 170.735L195.647 148.108ZM195.616 148.138C195.622 148.133 195.634 148.12 195.651 148.104L218.27 170.739C218.308 170.702 218.341 170.668 218.367 170.641L195.616 148.138ZM209.789 133.966L195.678 148.076L218.305 170.704L232.416 156.593L209.789 133.966Z"
            mask="url(#heart-outline-mask)"
          />
          <path
            id="heart-full"
            class="heart-icon-item"
            d="M221.102 145.279C244.534 121.848 244.534 83.8579 221.102 60.4264C197.671 36.995 159.681 36.995 136.25 60.4264L127.764 68.9116L119.279 60.4264C95.8477 36.995 57.8578 36.995 34.4264 60.4264C10.9949 83.8579 10.9949 121.848 34.4264 145.279L48.539 159.392C48.5488 159.402 48.5585 159.412 48.5683 159.421L122.107 232.96C122.498 233.351 122.919 233.693 123.362 233.986C126.253 235.894 130.111 235.73 132.835 233.492C133.037 233.326 133.233 233.149 133.421 232.96L206.96 159.421C206.971 159.411 206.981 159.4 206.992 159.39L221.102 145.279Z"
          />
        </g>
      </svg>
    </label>
  </div>
</template>

<script setup lang="ts">
const emit = defineEmits(["onUpVote"]);
const handleUpVote = () => {
  emit("onUpVote");
};
</script>

<style lang="scss" scoped>
.heart {
  cursor: pointer;
  &-icon {
    width: 40px;
    height: 40px;
    cursor: pointer;
    &-item {
      cursor: pointer;
      transform-origin: center;
      fill: #fff;
    }

    #heart-full {
      cursor: pointer;
      transform: scale(0);
    }
  }
  &-checkbox {
    display: none;
    cursor: pointer;
    &:checked + label #heart-full {
      cursor: pointer;
      transform: scale(1);
      animation-duration: 0.3s;
      animation-name: grow;
    }
  }
}

@keyframes grow {
  0% {
    transform: scale(0);
  }
  80% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.upvote-container {
  position: fixed;
  bottom: 40px;
  right: 40px;
  padding: 8px;
  border-radius: 50%;
  background-color: #b1a296;
  cursor: pointer;
}
</style>
